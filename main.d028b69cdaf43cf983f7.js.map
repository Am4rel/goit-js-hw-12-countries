{"version":3,"sources":["webpack:///./templates/fewCountries.hbs","webpack:///./index.js","webpack:///./js/fetchCountries.js","webpack:///./templates/oneCountry.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext","stack1","program","noop","debounce","require","defaultModules","set","PNotifyMobile","refs","document","querySelector","async","doSearch","name","countryList","searchQuery","url","fetchedUrl","fetch","json","makeRequest","dataLength","length","renewContainer","countryCardTpl","countriesListTpl","makeFewCountriesmarkup","sendErrorMessage","markup","innerHTML","title","text","error","type","delay","sticker","inputBox","addEventListener","event","query","target","value","console","warn","message","preventDefault","countryName","textContent","alias1","alias2","alias3","alias4"],"mappings":"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","file":"main.d028b69cdaf43cf983f7.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"countries-item\\\"><a href=\\\"\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":42},\"end\":{\"line\":3,\"column\":50}}}) : helper)))\n    + \"</a></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","import './styles.css';\r\nimport './pnotifyStyles.css';\r\nimport \"../node_modules/@pnotify/core/dist/PNotify.css\";\r\nimport \"../node_modules/@pnotify/core/dist/BrightTheme.css\";\r\n\r\n\r\nimport makeRequest from \"./js/fetchCountries\";\r\nimport countriesListTpl from \"./templates/fewCountries.hbs\"\r\nimport countryCardTpl from \"./templates/oneCountry.hbs\"\r\nimport { error, defaultModules } from'@pnotify/core';\r\nimport * as PNotifyMobile from '../node_modules/@pnotify/mobile/dist/PNotifyMobile.js';\r\n\r\nconst debounce = require('lodash.debounce');\r\n\r\ndefaultModules.set(PNotifyMobile, {});\r\n\r\nconst refs = {\r\n    \"container\": document.querySelector(\".countries-container\"),\r\n    \"inputBox\": document.querySelector(\".country-input\"),\r\n}\r\n\r\nrefs.inputBox.addEventListener(\"input\", debounce(onInput, 500));\r\nrefs.container.addEventListener(\"click\", onLinkClick);\r\n\r\nfunction onInput(event) {\r\n    resetContainer()\r\n    const query = event.target.value;\r\n    try {\r\n        doSearch(query)\r\n    } catch (error) {\r\n        console.warn(\"Произошла ошибка: \"+error.message)\r\n    }\r\n}\r\n\r\nfunction onLinkClick(event) {\r\n    event.preventDefault();\r\n    const countryName = event.target.textContent;\r\n\r\n    refs.inputBox.value = countryName;\r\n    try {\r\n        doSearch(countryName)\r\n    } catch (error) {\r\n        console.warn(\"Произошла ошибка: \"+error.message)\r\n    }\r\n}\r\n\r\nasync function doSearch(name) {\r\n    const countryList = await makeRequest(name);\r\n    const dataLength = countryList.length;\r\n\r\n    if (dataLength === 1) {\r\n        makeOneCountrymarkup(countryList);\r\n    } else if (dataLength < 11) {\r\n        makeFewCountriesmarkup(countryList);\r\n    } else if ((dataLength > 10)) {\r\n        sendErrorMessage(\"There's too many results.\", 'Please, do more specific search.');\r\n    } else {\r\n        sendErrorMessage(\"I didn't find anything.\", 'Check if the name is written correctly.');\r\n    }\r\n    \r\n}\r\n\r\nfunction makeFewCountriesmarkup(data) {\r\n    const markup = countriesListTpl(data);\r\n    renewContainer(markup);\r\n}\r\n\r\nfunction makeOneCountrymarkup(data) {\r\n    const markup = countryCardTpl(data);\r\n    renewContainer(markup);\r\n}\r\n\r\nfunction renewContainer(markup) {\r\n    refs.container.innerHTML = markup;\r\n}\r\n\r\nfunction resetContainer() {\r\n    refs.container.innerHTML = \"\";\r\n}\r\n\r\nfunction sendErrorMessage(title, text) {\r\n    error({\r\n        title: title,\r\n        text: text,\r\n        type: 'error',\r\n        delay: 3000,\r\n        sticker: false,\r\n\r\n    });\r\n}","export default async function fetchCountries(searchQuery) {\r\n    const url = `https://restcountries.eu/rest/v2/name/${searchQuery}`;\r\n\r\n    const fetchedUrl = await fetch(url);\r\n    return await fetchedUrl.json()\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":25},\"end\":{\"line\":2,\"column\":33}}}) : helper)))\n    + \"</h2>\\r\\n\\r\\n<ul class=\\\"country-data\\\">\\r\\n    <li>\\r\\n        <p class=\\\"country-capital\\\"><b>Capital:</b> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":51},\"end\":{\"line\":6,\"column\":62}}}) : helper)))\n    + \"</p>\\r\\n    </li>\\r\\n    <li>\\r\\n        <p class=\\\"country-population\\\"><b>Population:</b> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":57},\"end\":{\"line\":9,\"column\":71}}}) : helper)))\n    + \"</p>\\r\\n    </li>\\r\\n\\r\\n    <li>\\r\\n        <ul class=\\\"country-languages\\\"><b>Languages:</b>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":12},\"end\":{\"line\":16,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n    </li>\\r\\n</ul>\\r\\n\\r\\n<dir class=\\\"country-flag\\\"><img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":36},\"end\":{\"line\":21,\"column\":44}}}) : helper)))\n    + \"\\\" alt=\\\"Flag of \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":59},\"end\":{\"line\":21,\"column\":67}}}) : helper)))\n    + \"\\\"></dir>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <li class=\\\"country-languages__item\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":48},\"end\":{\"line\":15,\"column\":56}}}) : helper)))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":22,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}